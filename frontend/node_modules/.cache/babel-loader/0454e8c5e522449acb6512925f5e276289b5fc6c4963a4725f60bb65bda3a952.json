{"ast":null,"code":"var _s = $RefreshSig$();\nimport { getChatHistory } from '../services/api';\nimport { useState, useEffect } from 'react';\nconst useChatHistory = userId => {\n  _s();\n  const [chatHistory, setChatHistory] = useState([]);\n  const [currentChatId, setCurrentChatId] = useState(null);\n  useEffect(() => {\n    const loadHistory = async () => {\n      try {\n        var _response$data;\n        const response = await getChatHistory(userId);\n        setChatHistory(((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.chats) || []);\n      } catch (err) {\n        console.error(\"Error cargando historial:\", err);\n        setChatHistory([]);\n      }\n    };\n    loadHistory();\n  }, [userId]);\n  return {\n    chatHistory,\n    currentChatId,\n    setCurrentChatId,\n    setChatHistory\n  };\n};\n_s(useChatHistory, \"22In5e3QrGsdPyqyTRKfPIMu3K8=\");\nexport default useChatHistory;","map":{"version":3,"names":["getChatHistory","useState","useEffect","useChatHistory","userId","_s","chatHistory","setChatHistory","currentChatId","setCurrentChatId","loadHistory","_response$data","response","data","chats","err","console","error"],"sources":["/home/university/Escritorio/Inteligencia Artificial/Proyecto 2 - Alan Limachi/Proyecto-Agente-IA/frontend/src/hooks/useChatHistory.js"],"sourcesContent":["import { getChatHistory } from '../services/api';\nimport { useState, useEffect } from 'react';\nconst useChatHistory = (userId) => {\n  const [chatHistory, setChatHistory] = useState([]);\n  const [currentChatId, setCurrentChatId] = useState(null);\n\n  useEffect(() => {\n    const loadHistory = async () => {\n      try {\n        const response = await getChatHistory(userId);\n        setChatHistory(response.data?.chats || []);\n      } catch (err) {\n        console.error(\"Error cargando historial:\", err);\n        setChatHistory([]);\n      }\n    };\n    \n    loadHistory();\n  }, [userId]);\n\n  return {\n    chatHistory,\n    currentChatId,\n    setCurrentChatId,\n    setChatHistory\n  };\n};\nexport default useChatHistory;"],"mappings":";AAAA,SAASA,cAAc,QAAQ,iBAAiB;AAChD,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,MAAMC,cAAc,GAAIC,MAAM,IAAK;EAAAC,EAAA;EACjC,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACO,aAAa,EAAEC,gBAAgB,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAExDC,SAAS,CAAC,MAAM;IACd,MAAMQ,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QAAA,IAAAC,cAAA;QACF,MAAMC,QAAQ,GAAG,MAAMZ,cAAc,CAACI,MAAM,CAAC;QAC7CG,cAAc,CAAC,EAAAI,cAAA,GAAAC,QAAQ,CAACC,IAAI,cAAAF,cAAA,uBAAbA,cAAA,CAAeG,KAAK,KAAI,EAAE,CAAC;MAC5C,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAEF,GAAG,CAAC;QAC/CR,cAAc,CAAC,EAAE,CAAC;MACpB;IACF,CAAC;IAEDG,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAACN,MAAM,CAAC,CAAC;EAEZ,OAAO;IACLE,WAAW;IACXE,aAAa;IACbC,gBAAgB;IAChBF;EACF,CAAC;AACH,CAAC;AAACF,EAAA,CAxBIF,cAAc;AAyBpB,eAAeA,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}