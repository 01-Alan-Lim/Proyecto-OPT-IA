{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { getChatHistory } from '../services/api';\nconst useChatHistory = userId => {\n  _s();\n  const [chatHistory, setChatHistory] = useState([]);\n  const [currentChatId, setCurrentChatId] = useState(null);\n\n  // Cargar historial al iniciar o cambiar userId\n  useEffect(() => {\n    const loadHistory = async () => {\n      try {\n        var _response$data, _response$data2;\n        const response = await getChatHistory(userId);\n        setChatHistory(((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.history) || ((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.chats) || []);\n      } catch (err) {\n        console.error(\"Error cargando historial:\", err);\n        setChatHistory([]);\n      }\n    };\n    loadHistory();\n  }, [userId]);\n  return {\n    chatHistory,\n    currentChatId,\n    setCurrentChatId,\n    setChatHistory\n  };\n};\n_s(useChatHistory, \"22In5e3QrGsdPyqyTRKfPIMu3K8=\");\nexport default useChatHistory;","map":{"version":3,"names":["useState","useEffect","getChatHistory","useChatHistory","userId","_s","chatHistory","setChatHistory","currentChatId","setCurrentChatId","loadHistory","_response$data","_response$data2","response","data","history","chats","err","console","error"],"sources":["/home/university/Escritorio/Inteligencia Artificial/Proyecto 2 - Alan Limachi/Proyecto-Agente-IA/frontend/src/hooks/useChatHistory.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { getChatHistory } from '../services/api';\n\nconst useChatHistory = (userId) => {\n  const [chatHistory, setChatHistory] = useState([]);\n  const [currentChatId, setCurrentChatId] = useState(null);\n\n  // Cargar historial al iniciar o cambiar userId\n  useEffect(() => {\n    const loadHistory = async () => {\n      try {\n        const response = await getChatHistory(userId);\n        setChatHistory(response.data?.history || response.data?.chats || []);\n      } catch (err) {\n        console.error(\"Error cargando historial:\", err);\n        setChatHistory([]);\n      }\n    };\n    \n    loadHistory();\n  }, [userId]);\n\n  return {\n    chatHistory,\n    currentChatId,\n    setCurrentChatId,\n    setChatHistory\n  };\n};\n\nexport default useChatHistory;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,cAAc,QAAQ,iBAAiB;AAEhD,MAAMC,cAAc,GAAIC,MAAM,IAAK;EAAAC,EAAA;EACjC,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACQ,aAAa,EAAEC,gBAAgB,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;;EAExD;EACAC,SAAS,CAAC,MAAM;IACd,MAAMS,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QAAA,IAAAC,cAAA,EAAAC,eAAA;QACF,MAAMC,QAAQ,GAAG,MAAMX,cAAc,CAACE,MAAM,CAAC;QAC7CG,cAAc,CAAC,EAAAI,cAAA,GAAAE,QAAQ,CAACC,IAAI,cAAAH,cAAA,uBAAbA,cAAA,CAAeI,OAAO,OAAAH,eAAA,GAAIC,QAAQ,CAACC,IAAI,cAAAF,eAAA,uBAAbA,eAAA,CAAeI,KAAK,KAAI,EAAE,CAAC;MACtE,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAEF,GAAG,CAAC;QAC/CV,cAAc,CAAC,EAAE,CAAC;MACpB;IACF,CAAC;IAEDG,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAACN,MAAM,CAAC,CAAC;EAEZ,OAAO;IACLE,WAAW;IACXE,aAAa;IACbC,gBAAgB;IAChBF;EACF,CAAC;AACH,CAAC;AAACF,EAAA,CAzBIF,cAAc;AA2BpB,eAAeA,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}