{"ast":null,"code":"import axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:7071/api';\n\n// Configuraci贸n global de axios\nconst apiClient = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Interceptor para agregar el user-id a las peticiones\napiClient.interceptors.request.use(config => {\n  const userId = localStorage.getItem('userId') || 'default-user';\n  if (userId) {\n    config.headers['x-user-id'] = userId;\n  }\n  return config;\n});\n\n// Interceptor para manejar errores\napiClient.interceptors.response.use(response => response, error => {\n  console.error('API Error:', error.response);\n  return Promise.reject(error);\n});\nexport const getChatHistory = userId => {\n  return apiClient.get('/history', {\n    headers: {\n      'x-user-id': userId\n    }\n  });\n};\nexport const sendMessage = (userId, message, chatId) => {\n  return apiClient.post('/functions', {\n    question: message,\n    style: \"default\"\n  }, {\n    params: {\n      chatId\n    }\n  });\n};\nexport const loadChat = (userId, chatId) => {\n  return apiClient.post('/functions', {\n    action: \"load_chat\"\n  }, {\n    params: {\n      chatId\n    }\n  });\n};\nexport const getChatTopics = chatId => {\n  return apiClient.get('/topics', {\n    params: {\n      chatId\n    }\n  });\n};\nexport const generateDocument = (topic, actionType) => {\n  return apiClient.post('/generate-document', {\n    topic,\n    actionType\n  });\n};\n\n// Funci贸n para descargar documentos (opcional)\nexport const downloadDocument = (content, filename) => {\n  const blob = new Blob([content], {\n    type: 'text/plain'\n  });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = filename || `documento-${new Date().toISOString()}.txt`;\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n  URL.revokeObjectURL(url);\n};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","apiClient","create","baseURL","headers","interceptors","request","use","config","userId","localStorage","getItem","response","error","console","Promise","reject","getChatHistory","get","sendMessage","message","chatId","post","question","style","params","loadChat","action","getChatTopics","generateDocument","topic","actionType","downloadDocument","content","filename","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","Date","toISOString","body","appendChild","click","removeChild","revokeObjectURL"],"sources":["/home/university/Escritorio/Inteligencia Artificial/Proyecto 2 - Alan Limachi/Proyecto-Agente-IA/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:7071/api';\n\n// Configuraci贸n global de axios\nconst apiClient = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n\n\n// Interceptor para agregar el user-id a las peticiones\napiClient.interceptors.request.use(config => {\n  const userId = localStorage.getItem('userId') || 'default-user';\n  if (userId) {\n    config.headers['x-user-id'] = userId;\n  }\n  return config;\n});\n\n// Interceptor para manejar errores\napiClient.interceptors.response.use(\n  response => response,\n  error => {\n    console.error('API Error:', error.response);\n    return Promise.reject(error);\n  }\n);\n\nexport const getChatHistory = (userId) => {\n  return apiClient.get('/history', {\n    headers: { 'x-user-id': userId }\n  });\n};\n\nexport const sendMessage = (userId, message, chatId) => {\n  return apiClient.post(\n    '/functions',\n    { question: message, style: \"default\" },\n    {\n      params: { chatId }\n    }\n  );\n};\n\nexport const loadChat = (userId, chatId) => {\n  return apiClient.post(\n    '/functions',\n    { action: \"load_chat\" },\n    {\n      params: { chatId }\n    }\n  );\n};\n\nexport const getChatTopics = (chatId) => {\n  return apiClient.get('/topics', {\n    params: { chatId }\n  });\n};\n\nexport const generateDocument = (topic, actionType) => {\n  return apiClient.post('/generate-document', {\n    topic,\n    actionType\n  });\n};\n\n// Funci贸n para descargar documentos (opcional)\nexport const downloadDocument = (content, filename) => {\n  const blob = new Blob([content], { type: 'text/plain' });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = filename || `documento-${new Date().toISOString()}.txt`;\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n  URL.revokeObjectURL(url);\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}